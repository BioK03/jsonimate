function jsonimate(t){$localJson=t,$.each($localJson,function(t,e){$("#renderer").append("<img id='"+t+"' class='jsonimate' src='"+e.image+"'/>"),$("#"+t).css({top:e.startPosition.y+"%",left:e.startPosition.x+"%",height:e.startSize.height+"%",width:e.startSize.width+"%",transform:"rotate("+e.startAngle+"deg)"}),setTimeout(function(){nextAction(t,0)},e.startPadding)})}function nextAction(t,e){return e>=$localJson[t].states.length?void($localJson[t].repetition>=0&&setTimeout(function(){$("#"+t).css({top:$localJson[t].startPosition.y+"%",left:$localJson[t].startPosition.x+"%",height:$localJson[t].startSize.height+"%",width:$localJson[t].startSize.width+"%"}),nextAction(t,0)},$localJson[t].repetition)):($state=$localJson[t].states[e],""!=$state.startImage&&$("#"+t).attr("src",$state.startImage),$values=$("#"+t).css("transform").split("(")[1].split(")")[0].split(","),$angle=Math.round(Math.atan2($values[1],$values[0])*(180/Math.PI)),$({deg:$angle}).animate({deg:$state.endAngle},{duration:$state.animationTime,step:function(e){$("#"+t).css({"-moz-transform":"rotate("+e+"deg)","-webkit-transform":"rotate("+e+"deg)","-o-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"})}}),void $("#"+t).animate({top:$state.endPos.y+"%",left:$state.endPos.x+"%",height:$state.endSize.height+"%",width:$state.endSize.width+"%"},$state.animationTime,$state.animationType,function(){setTimeout(function(){nextAction(t,e+1)},$state.endPaddingTime)}))}$localJson="";